# 4장 - 웹사이트의 동작 원리
### Proxy

- 클라이언트와 서버 중간의 중계 역할

- 캐싱 / 보안 / 익명성 / 중계 / 트래픽 관리 등등의 여러가지 역할을 맡아서 함
- 프록시가 로드 밸런싱을 수행할 수도 있음



-----

**Q. 프록시랑 VPN은 어떻게 다를까?**

- IP 주소 숨기기나 보안 등의 동작 과정 자체는 비슷하지만 목적이 다름
- 프록시 - 네트워크 성능 최적화가 중심
- VPN - 보안 및 프라이버시가 중심



**Q. 로드밸런싱은 프록시의 하위개념일까?** 

- 아님
- 이런 질문이 들 때, 해당 작업을 수행하는 주체가 어디인지 생각하면 이해가 쉬움
- 프록시 : 클라이언트 / 서버의 중간 단계에서 수행됨
- 로드밸런싱 : 서버풀 앞에서 서버 요청을 분배함
- 최근에 HA Proxy (로드밸런서) 개념이 많이 나왔던 것 같은데 찾아보면 좋을듯



**Q. 사용자가 특정 웹 브라우저에 접속했다. 그다음에 일어나는 상황들은?**

1. URL 파싱 ( 프로토콜 , 도메인, 경로, 포트번호 다 잘게 쪼갬 )
2. 대부분 도메인을 쓸테니, DNS 먼저 조회함 (캐시도 보고, DNS 서버 쿼리도 날리고)
3. TCP 연결함 (이때가 그 유명한 3way handshake 발생)
   - 3way handshake는 나중에 더 깊게 다루게 될듯?
   - SYN / SYN - ACK /ACK 패킷 전송함 
   - 이게 끝나면 신뢰성 있는 연결이 생성됐다고 봄 
4. TLS/SSL 핸드쉐이크 (이건 HTTPS일때만 해당됨)
   - SSL 은 인증서 / 보안 때문에 https를 많이 사용하면 이때 적용된 인증서로 인증을 받거나 암호화 키 교환하는 일들을 함

5. HTTP 요청 전송
   - GET, POST, PUT 등등
6. 서버 처리
7. HTTP 응답 확인
   - 200, 404 등등의 상태코드 확인
8. 브라우저 렌더링
   - FE단에서 더 상세히 알면 좋음
   - DOM 트리가 그려지고 Paint가 완료되는 과정까지
9. 연결 유지
10. 연결 종료 (4way handshake)
